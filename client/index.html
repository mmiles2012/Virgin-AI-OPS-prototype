<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>AINO Aviation Intelligence Platform</title>
    <meta name="description" content="Advanced flight training simulator for Boeing 787 operations and emergency scenarios" />
    <style>
      :root {
        --background: 210 11% 98%;
        --foreground: 215 25% 27%;
        --card: 0 0% 100%;
        --card-foreground: 215 25% 27%;
        --popover: 0 0% 100%;
        --popover-foreground: 215 25% 27%;
        --primary: 220 91% 51%;
        --primary-foreground: 0 0% 100%;
        --secondary: 210 11% 96%;
        --secondary-foreground: 215 25% 27%;
        --muted: 210 11% 96%;
        --muted-foreground: 215 16% 47%;
        --accent: 210 11% 96%;
        --accent-foreground: 215 25% 27%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;
        --border: 215 12% 92%;
        --input: 215 12% 92%;
        --ring: 220 91% 51%;
        --chart-1: 220 91% 51%;
        --chart-2: 160 81% 40%;
        --chart-3: 30 80% 55%;
        --chart-4: 280 87% 47%;
        --chart-5: 340 75% 55%;
        --sidebar-background: 0 0% 100%;
        --sidebar-foreground: 215 25% 27%;
        --sidebar-primary: 220 91% 51%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 210 11% 96%;
        --sidebar-accent-foreground: 215 25% 27%;
        --sidebar-border: 215 12% 92%;
        --sidebar-ring: 220 91% 51%;
        --radius: 0.5rem;
      }

      .dark {
        --background: 224 71% 4%;
        --foreground: 213 31% 91%;
        --card: 224 71% 4%;
        --card-foreground: 213 31% 91%;
        --popover: 224 71% 4%;
        --popover-foreground: 213 31% 91%;
        --primary: 220 91% 51%;
        --primary-foreground: 220 9% 9%;
        --secondary: 215 28% 17%;
        --secondary-foreground: 213 31% 91%;
        --muted: 215 28% 17%;
        --muted-foreground: 217 11% 65%;
        --accent: 215 28% 17%;
        --accent-foreground: 213 31% 91%;
        --destructive: 0 63% 31%;
        --destructive-foreground: 213 31% 91%;
        --border: 215 28% 17%;
        --input: 215 28% 17%;
        --ring: 220 91% 51%;
        --chart-1: 220 91% 51%;
        --chart-2: 160 60% 45%;
        --chart-3: 30 80% 55%;
        --chart-4: 280 87% 47%;
        --chart-5: 340 75% 55%;
        --sidebar-background: 224 71% 4%;
        --sidebar-foreground: 213 31% 91%;
        --sidebar-primary: 220 91% 51%;
        --sidebar-primary-foreground: 220 9% 9%;
        --sidebar-accent: 215 28% 17%;
        --sidebar-accent-foreground: 213 31% 91%;
        --sidebar-border: 215 28% 17%;
        --sidebar-ring: 220 91% 51%;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: hsl(var(--background));
        color: hsl(var(--foreground));
        overflow-x: hidden;
        overflow-y: auto;
        min-height: 100vh;
        -webkit-overflow-scrolling: touch;
      }

      #root {
        width: 100vw;
        min-height: 100vh;
        position: relative;
        display: flex;
        flex-direction: column;
      }

      /* Mobile and iPad specific fixes */
      @media screen and (max-width: 768px) {
        body {
          font-size: 14px;
        }
        
        #root {
          width: 100%;
          overflow-x: hidden;
        }
      }

      @media screen and (min-width: 768px) and (max-width: 1024px) {
        /* iPad specific styling */
        body {
          font-size: 15px;
        }
      }

      /* Ensure proper rendering on all devices */
      * {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
      }

      /* Fix for iOS Safari viewport issues */
      @supports (-webkit-touch-callout: none) {
        #root {
          min-height: -webkit-fill-available;
        }
      }

      /* Touch-friendly button styling */
      .touch-manipulation {
        touch-action: manipulation;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }

      /* Aviation specific mobile fixes */
      .aviation-panel {
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
      }

      /* Ensure proper scrolling on mobile */
      .aviation-scrollable {
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: rgba(59, 130, 246, 0.5) transparent;
      }

      .aviation-scrollable::-webkit-scrollbar {
        width: 4px;
      }

      .aviation-scrollable::-webkit-scrollbar-track {
        background: transparent;
      }

      .aviation-scrollable::-webkit-scrollbar-thumb {
        background: rgba(59, 130, 246, 0.5);
        border-radius: 2px;
      }

      /* Emergency mobile fixes for white screen */
      @media screen and (max-width: 768px) {
        body, html, #root {
          position: fixed !important;
          width: 100% !important;
          height: 100% !important;
          overflow: hidden !important;
          background: #1e3a8a !important; /* blue-900 fallback */
        }
        
        .w-full {
          width: 100% !important;
        }
        
        .min-h-screen {
          min-height: 100vh !important;
          height: 100vh !important;
        }
      }

      /* Aviation-specific styling */
      .aviation-panel {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border: 1px solid #0f3460;
        border-radius: 8px;
      }

      .cockpit-display {
        background: radial-gradient(circle at center, #0a1428 0%, #051019 100%);
        border: 2px solid #1e3a8a;
        color: #60a5fa;
      }

      .emergency-alert {
        background: linear-gradient(45deg, #dc2626 0%, #ef4444 100%);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- Emergency mobile fallback -->
    <script>
      // Detect mobile and show fallback if React fails to load
      function isMobileDevice() {
        return window.innerWidth < 768 || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      }
      
      function showMobileFallback() {
        document.body.innerHTML = `
          <div style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, #1e3a8a, #1e40af);
            color: white;
            font-family: system-ui, -apple-system, sans-serif;
            padding: 20px;
            overflow: auto;
            z-index: 999999;
          ">
            <div style="text-align: center; margin-bottom: 30px;">
              <h1 style="font-size: 32px; margin: 0 0 10px 0; font-weight: bold;">AINO</h1>
              <p style="font-size: 18px; color: #bfdbfe; margin: 0;">Aviation Intelligence Platform</p>
            </div>
            
            <div style="
              background: rgba(0,0,0,0.4);
              border-radius: 8px;
              padding: 20px;
              margin-bottom: 20px;
            ">
              <h2 style="color: #60a5fa; margin-bottom: 15px;">Live Operations</h2>
              <div style="margin-bottom: 10px;">
                <span style="color: #d1d5db;">Virgin Atlantic Fleet: </span>
                <span style="font-weight: bold; color: #10b981;">40 Aircraft Active</span>
              </div>
              <div style="margin-bottom: 10px;">
                <span style="color: #d1d5db;">Weather Data: </span>
                <span style="font-weight: bold; color: #10b981;">AVWX Connected</span>
              </div>
              <div>
                <span style="color: #d1d5db;">Flight Tracking: </span>
                <span style="font-weight: bold; color: #10b981;">OpenSky Network</span>
              </div>
            </div>

            <div style="
              background: rgba(0,0,0,0.4);
              border-radius: 8px;
              padding: 20px;
              margin-bottom: 20px;
            ">
              <h2 style="color: #60a5fa; margin-bottom: 15px;">Current Flights</h2>
              <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 4px;">
                <div style="font-weight: bold;">VS001 LHR → JFK</div>
                <div style="font-size: 14px; color: #d1d5db;">Boeing 787-9 • En Route • Atlantic Crossing</div>
              </div>
              <div style="margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 4px;">
                <div style="font-weight: bold;">VS011 LHR → BOS</div>
                <div style="font-size: 14px; color: #d1d5db;">Airbus A330-300 • Boarding T3</div>
              </div>
              <div style="padding: 10px; background: rgba(255,255,255,0.1); border-radius: 4px;">
                <div style="font-weight: bold;">VS025 LHR → EWR</div>
                <div style="font-size: 14px; color: #d1d5db;">Boeing 787-9 • Preparing</div>
              </div>
            </div>

            <div style="text-align: center;">
              <p style="color: #9ca3af; line-height: 1.6; margin-bottom: 20px;">
                Mobile interface active. For full functionality including interactive maps, 
                digital twins, and detailed analytics, please use desktop.
              </p>
              <button onclick="window.location.reload()" style="
                background: #3b82f6;
                color: white;
                border: none;
                border-radius: 6px;
                padding: 15px 30px;
                font-size: 16px;
                cursor: pointer;
                touch-action: manipulation;
              ">Refresh Platform</button>
            </div>
          </div>
        `;
      }
      
      // Show fallback immediately on mobile
      if (isMobileDevice()) {
        setTimeout(() => {
          // Check if React app loaded properly
          if (!document.querySelector('#root').innerHTML.trim() || 
              document.querySelector('#root').innerHTML === '<div></div>') {
            showMobileFallback();
          }
        }, 3000); // Give React 3 seconds to load
      }
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
